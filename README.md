# Задачи по практической робототехнике
## Задача на зачет
Наземный робот на базе ТРИК и квадрокоптер стоят в зоне старта. Квадрокоптер взлетает, делает пролет над "городом", снимает и составляет карту, а также определят координату (объект), куда необходимо приехать наземному роботу. Пересылает координату и карту наземному роботу.
Наземный по оптимальному пути двигается по карте в заданную координату, при этом корректируя движения по лидару, гироскопу и энкодерам.

## Промежуточные задачи, которые необходимо сдать
- [X] Написать функцию `run(v,s)` перемещение робота на расстояние s со скоростью v. Корректировку направления сделать с помощью П-регулятора по энкодерам.
- [X] Написать функцию `rotate(v,alpha)` поворота робота на угол alpha со скоростью v. 
- [X] *(Дополнительно)* Дополнить функцию `run(v,s)` П-регулятором по значениям энкодеров.
- [X] Реализовать функцию расчета абсолютно угла по гироскопу, который висит на событии таймера. Реализовать функцию движения с выравниванием на угол.
Проверить первые 3 задачи в 2Д и на реальном роботе.
- [X] *(Дополнительно)* Реализовать функцию `run(v,s)` с использованием обоих типов регуляторов (взвешенная сумма)
- [X] Научиться работать с квадрокоптером: настройка, прошивка, подключение к пульту. Управление квадрокоптером с пульта.
- [ ] Написать программу автоматического пролета по заданным точка со взлетом и посадкой.
- [ ] Написать программу съемки с камеры. Склейкой кадров, бинаризации изображения.
- [ ] Реализовать объединение квадрокоптера и наземного робота в одну сеть. Научиться передавать данные с квадрокоптера на наземного робота.

## Pioneer Station для Arch Linux
После установки Pioneer Station на Arch Linux согласно [инструкции](https://docs.geoscan.ru/pioneer/instructions/applications/pioneer_station/pioneer_station_install.html#linux)
квадрокоптер не подключается из программы, хотя устройство отображается в списке `lsusb`. Чтобы решить эту проблему, необходимо предоставить
пользователю права чтения и записи так же, как это делается для Arduino. Для этого нужно [добавить правило udev](https://wiki.archlinux.org/title/Arduino#Accessing_serial)
путем создания файла:

`/etc/udev/rules.d/01-ttyusb.rules`
```
SUBSYSTEMS=="usb-serial", TAG+="uaccess"
```
и после этого [перезагрузить правила udev](https://wiki.archlinux.org/title/Udev#Loading_new_rules):
```bash
udevadm control --reload
```

> [!CAUTION]
> Данный способ позволяет *любому* пользователю, который вошёл в систему, получить доступ ко *всем* USB-serial устройствам.

## Полезные ссылки
- [Программирование ТРИК на Python и JavaScript](https://help.trikset.com/trik/programming-code)
- [trikRuntime wiki](https://github.com/trikset/trikRuntime/wiki)
- [Документация Геоскан Пионер](https://docs.geoscan.ru/pioneer/index.html)

